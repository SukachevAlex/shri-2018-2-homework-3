# Домашнее задание #3

## Запуск

Установить зависимости `npm install`

Запустить проект `npm run start`

Собрать проект `npm run build`

Проверка eslint'ом `npm run lint`

## Ссылка на проект gh-pages

Проект со стандартными ссылками на стримы с локалхоста
[Ссылка](https://sukachevalex.github.io/shri-2018-2-homework-3/dist_1/video_monitoring.html)

Проект со случайными ссылками на стримы
[Ссылка](https://sukachevalex.github.io/shri-2018-2-homework-3/dist_2/video_monitoring.html)


## Основные задачи

* Добавил раздел в меню "Видеонаблюдение".
* В этом разделе находится сетка из четырех видео-превью, клик по ревью разворачивает соответствующее видео на всю ширину контейнера.
* Анимация разворачивания сделана на transform: rotate и translate.
* Когда видео раскрыто на всю ширину, под видео появляется кнопка "Все камеры", которая позволяет вернуться назад.
* Анимация переключения видео работает без тормозов.
* Добавил возможность регулировки яркости и контрастности видео от 0 до 200 процентов. Для этого использовал input type=range и output для отображения значения input'а.
* Реализовал анализатор громкости звука в потоке из открытой камеры.
* Добавил возможность включать / выключать звук на открытом видео.

## Дополнительные задачи

* Уровень освещенности (** не сделал **).
* Детектор движения (** не сделал **).

## Основные моменты

* Начал реализовывать сетку на grid layout и тегах video, но после добавления сетки из четырех видео FPS стал иногда снижаться до 40-45 (странно).
[Ссылка](https://github.com/SukachevAlex/shri-2018-2-homework-3/commits/master)
Реализация на grid и video тегах.


* После этого решил переписать все на canvas. На странице с помощью grid layout отображается сетка из четырех canvas, в которых распологаются видео. После реализации на canvas, заметных снижений FPS не наблюдалось.

* Видео можно развернуть при клике на него, а свернуть при нажатии на кнопку "все камеры" или повторном нажатии на видео.

* Фильтры яркости и контрастности реализованы с помощью canvas фильтров. При разворачивании видео на всю ширину, под видео отображаются: кнопка "Все камеры", input управление яркостью и контрастностью, кнопка выключения / включения звука. По умолчанию звук на всех видео выключен (при разворачивании видео решил осавить звук выключенным), яркость и контрастность 100%. При выходе из полной ширины, значение фильтров на видео сохраняются.

* Сделал уровень громкости в виде графика, так как, кажется, что уточнение (в виде столбатой диаграммы) появилось позже того, как я прочитал задание. (** Постараюсь переделать в ближайшие сроки **)

* Показания счетчика FPS при отображении, разворачивании, сворачивании видео, отображение громкости, других анимациях стабильно около 60 FPS.

* Проверил работоспособность в Google Chrome, FireFox на десктопе, на мобильной версии Google Chrome на Android.